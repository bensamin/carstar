<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
	<script type="text/javascript" src="js/jquery-1.11.1.min.js" ></script>
</head>
<body>
	<div>
		<input type="text" id="search" />
		<span onclick="b()">搜索</span>
	</div>
	
	<div>
		<input type="text" id="category" />
		<span onclick="d()">一级分类：车内部件--->二级分类</span>
	</div>
	<div>
		<input type="text" name="brand" id="brand" value="" />
		<span onclick="e()">二级分类：座椅---->三级分类</span>
	</div>
	<div class="qwe"></div>
	<script>
	document.getElementsByClassName("qwe").innerHTML  = "123";	
	function b(){
		var goods = $("#search").val();
		var pagenum = 4;
		console.log(goods);
		var a = "http://192.168.1.106:8080/CarStar/rest/goods/showgoods?goods="+goods+"&shop=all&startNum=0&pageSize=4";
		$.ajax({
			type:"get",
			contentType:"application/json; charset=utf-8",
			url:a,
			async:false,
			success:function(data){
				console.log(data);
			},
			error:function(){
				console.log("error");
			}
			
		});
		}
		
		
		
	function d(){
			var menu = $("#category").val();
			console.log(menu);
			var a = "http://192.168.1.106:8080/CarStar/rest/goods/showmenu?menu="+menu+"&startNum=0&pageSize=510";
			$.ajax({
				type:"get",
				contentType:"application/json; charset=utf-8",
				url:a,
				async:false,
				success:function(data){
					var data1 = data.data;
					console.log(data);
					for( var i =0;i<data1.length;i++ ){
						$(".class2").append(
							" <span> "+ data1[i].n2 +" </span> "
						);
					}
					var num = Math.ceil(data.data.length / 5 );
//					for ( var i = 0;i<num;i++ ){
//						console.log(i);
//						 for( var j =0;j<5;j++ ){
//						 	console.log(data1[j].n2);
//						 }
//
//					}
				},
				error:function(){
					console.log("error");
				}
				
			});
		}

	function e(){
		var goods = $("#brand").val();
		var pagenum = 4;
		console.log(goods);
		var a = "http://192.168.1.106:8080/CarStar/rest/goods/showmenu?menu="+goods+"&startNum=0&pageSize=510";
		$.ajax({
			type:"get",
			contentType:"application/json; charset=utf-8",
			url:a,
			async:false,
			success:function(data){
				console.log(data);
			},
			error:function(){
				console.log("error");
			}
			
		});
	}
</script>
</body>
</html>